(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-views-dashboard-vue","layout-components-Dashboard-mutualSettlementTable-vue","layout-components-Dashboard-ordersTable-vue","layout-components-Dashboard-popupPanel-vue","layout-components-Head-PathHead-vue","layout-components-Head-index-vue","layout-components-Order-selectProducts-vue"],{"00f9":function(e,t,r){e.exports=r.p+"img/combine-orders.7ee1ee51.svg"},"0722":function(e,t,r){"use strict";var a=r("c587"),s=r.n(a);s.a},"0e9b":function(e,t,r){},"20d5":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orders"},[a("h2",[e._v("Заказы")]),a("div",{staticClass:"orders--btn"},[a("router-link",{staticClass:"btn orange",attrs:{to:{name:"Order"},target:"_blank"}},[a("img",{attrs:{src:r("8a37"),alt:""}}),e._v(" Создать заказ ")])],1),e.orders.length?[a("div",{ref:"tableOrders",staticClass:"table-wrap"},[e.orders.length?a("table",{staticClass:"table"},[a("tr",{staticClass:"head"},[a("td",{staticClass:"text-center",attrs:{rowspan:"2",width:"34"}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.allCheckboxOrders,expression:"allCheckboxOrders"}],staticClass:"style-checkbox",attrs:{id:"allCheckboxOrders",type:"checkbox"},domProps:{value:!1,checked:Array.isArray(e.allCheckboxOrders)?e._i(e.allCheckboxOrders,!1)>-1:e.allCheckboxOrders},on:{change:function(t){var r=e.allCheckboxOrders,a=t.target,s=!!a.checked;if(Array.isArray(r)){var n=!1,o=e._i(r,n);a.checked?o<0&&(e.allCheckboxOrders=r.concat([n])):o>-1&&(e.allCheckboxOrders=r.slice(0,o).concat(r.slice(o+1)))}else e.allCheckboxOrders=s}}}),a("label",{attrs:{for:"allCheckboxOrders"}})])]),e._m(0),e._m(1),e._m(2),e._m(3)]),e._m(4),e._l(e.orders,(function(t,r){return a("tr",{key:t.id,class:{selected:r==e.selectOrder}},[a("td",{staticClass:"text-center"},[a("input",{staticClass:"style-checkbox",attrs:{id:"id-order-"+t.idOrder,type:"checkbox"},domProps:{value:t.combineOrder,checked:t.combineOrder},on:{change:function(r){return e.setCombineOrder(r,t)}}}),a("label",{attrs:{for:"id-order-"+t.idOrder}})]),a("td",{staticClass:"link-order"},[a("router-link",{attrs:{to:{name:"OrderId",params:{id:t.order}},target:"_blank"}},[e._v(" "+e._s(t.title)+" ")])],1),a("td",[e._v(e._s(t.idOrder))]),a("td",[e._v(e._s(e._f("sum")(t.order)))]),a("td",{class:t.reserveStatus},["color-red"==t.reserveStatus||"color-green"==t.reserveStatus?[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"color-red"==t.reserveStatus?"Есть невыполненные":"color-green"==t.reserveStatus?"Есть товары на согласовании":""},expression:"{\n                  content: (\n                    item.reserveStatus=='color-red') ? 'Есть невыполненные' :\n                    (item.reserveStatus=='color-green') ? 'Есть товары на согласовании' : ''\n                }"}]},[e._v(" "+e._s(e._f("sum")(t.reserve))+" ")])]:[e._v(" "+e._s(e._f("sum")(t.reserve))+" ")]],2),a("td",{staticClass:"text-right"},[e._v(e._s(e._f("date")(t.reservationPeriod)))])])}))],2):e._e()]),e.legendOrders?a("div",{staticClass:"orders--legend"},[e._v(" Легенда: "),a("span",{class:{"color-red":!e.legendOrders.goodsOnAgreement.val,"color-green":e.legendOrders.goodsOnAgreement.val}},[e._v(" "+e._s(e.legendOrders.goodsOnAgreement.status)+" ")]),a("span",{class:{"color-red":!e.legendOrders.areOutstanding.val,"color-green":e.legendOrders.areOutstanding.val}},[e._v(" "+e._s(e.legendOrders.areOutstanding.status)+" ")])]):e._e(),a("PopupPanel",{attrs:{total:e.orders.length,checkboxSelected:e.checkboxSelected}})]:a("baseLoader")],2)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{rowspan:"2",width:"30%"}},[r("div",[e._v("Заказ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{rowspan:"2",width:"20%"}},[r("div",[e._v("№ Заказа")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{colspan:"2",width:"30%"}},[r("div",[e._v("Сумма")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{rowspan:"2",width:"16%"}},[r("div",[e._v("Срок резервирования")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"head"},[r("td",{staticClass:"bg-none"},[r("div",[e._v("Заказ")])]),r("td",{staticClass:"bg-none"},[r("div",[e._v("Резерв")])])])}],n=(r("c740"),r("c975"),r("5530")),o=r("2f62"),c=r("e37d"),i=r("742a"),d=r("ead1"),l={name:"ordersTable",components:{PopupPanel:i["default"],baseLoader:d["default"]},directives:{tooltip:c["a"]},computed:Object(n["a"])({},Object(o["d"])("dashboard",["orders"]),{checkboxSelected:function(){for(var e=0,t=0;t<this.orders.length;t++)this.orders[t]["combineOrder"]&&e++;return e},allCheckboxOrders:{get:function(){return this.checkboxSelected==this.orders.length},set:function(e){for(var t=0;t<this.orders.length;t++)this.setCombineOrderName({index:t,value:e})}}}),methods:Object(n["a"])({},Object(o["c"])("dashboard",["setCombineOrderName"]),{setCombineOrder:function(e,t){this.setCombineOrderName({index:this.orders.findIndex((function(e){return e.idOrder===t.idOrder})),value:e.target.checked})}}),mounted:function(){var e=this,t=[38,40];document.body.addEventListener("keydown",(function(e){-1!=t.indexOf(e.keyCode)&&e.preventDefault()})),document.onkeyup=function(){var t=window.event.keyCode;if(13==t&&null!==e.selectOrder){var r=e.$router.resolve({name:"OrderId",params:{id:e.orders[e.selectOrder]["order"]}});window.open(r.href,"_blank")}38==t&&(null===e.selectOrder||e.selectOrder<=0?e.selectOrder=0:(e.selectOrder--,e.$refs.tableOrders.scrollTop=e.$refs.tableOrders.querySelector(".selected").offsetTop-100)),40==t&&(null===e.selectOrder?e.selectOrder=0:e.selectOrder<e.orders.length-1&&(e.selectOrder++,e.$refs.tableOrders.scrollTop=e.$refs.tableOrders.querySelector(".selected").offsetTop-100))}},data:function(){return{selectOrder:null}}},u=l,f=(r("c7c4"),r("2877")),v=Object(f["a"])(u,a,s,!1,null,"4814730e",null);t["default"]=v.exports},2838:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"path"},[r("router-link",{attrs:{to:{name:"Dashboard"}}},[e._v("Главная")]),e._v(" / "),r("span",[e._v(e._s(e.path))])],1)},s=[],n={name:"PathHead",props:{path:{type:String,default:""}}},o=n,c=(r("beae"),r("2877")),i=Object(c["a"])(o,a,s,!1,null,"61f83195",null);t["default"]=i.exports},"3d4d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"notifications"},[r("h2",[e._v("Уведомления")]),r("div",{staticClass:"table-wrap"},[e.notifications.length?[r("table",{staticClass:"table"},[e._m(0),e._l(e.notifications,(function(t,a){return r("tr",{key:t.id},[r("td",{attrs:{width:"30%"}},[e._v(e._s(e._f("date")(t.date)))]),r("td",{attrs:{width:"70%"}},[r("div",{staticClass:"toggle-block"},[r("span",{staticClass:"toggle-block--btn",on:{click:function(r){return e.toggleNote(t,a)}}},[e._v(" "+e._s(t.message)+" ")]),t.visibleNote?r("div",{staticClass:"toggle-block--note"},[e._v(" "+e._s(t.note)+" ")]):e._e()])])])}))],2)]:r("baseLoader")],2)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"head"},[r("td",{attrs:{width:"30%"}},[r("div",[e._v("Дата")])]),r("td",{attrs:{width:"70%"}},[r("div",[e._v("Сообщение")])])])}],n=r("5530"),o=r("2f62"),c=r("ead1"),i={name:"notificationsTable",components:{baseLoader:c["default"]},data:function(){return{notificationsLocal:[]}},computed:Object(n["a"])({},Object(o["d"])("dashboard",["notifications"])),methods:Object(n["a"])({},Object(o["c"])("dashboard",["setNotificationsVisible"]),{toggleNote:function(e,t){this.setNotificationsVisible({index:t,value:!e.visibleNote})}})},d=i,l=(r("e90f"),r("2877")),u=Object(l["a"])(d,a,s,!1,null,"3bcb8dbe",null);t["default"]=u.exports},4601:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Head"),r("div",{staticClass:"dashboard"},[r("div",{staticClass:"dashboard--left"},[r("OrdersTable")],1),r("div",{staticClass:"dashboard--right"},[r("div",{staticClass:"block-1"},[r("MutualSettlementTable")],1),r("div",{staticClass:"block-2"},[r("NotificationsTable")],1)])])],1)},s=[],n=r("5530"),o=r("5b68"),c=r("d188"),i=r("3d4d"),d=r("20d5"),l=r("2f62"),u={name:"Dashboard",components:{Head:o["default"],MutualSettlementTable:c["default"],NotificationsTable:i["default"],OrdersTable:d["default"]},computed:Object(n["a"])({},Object(l["d"])("dashboard",["orders"])),mounted:function(){this.getNotifications(),this.getMutualSettlement(),this.orders.length||this.getOrders()},methods:Object(n["a"])({},Object(l["b"])("dashboard",["getNotifications","getMutualSettlement","getOrders"]))},f=u,v=(r("5628"),r("2877")),b=Object(v["a"])(f,a,s,!1,null,"2e1afe70",null);t["default"]=b.exports},5628:function(e,t,r){"use strict";var a=r("9c49"),s=r.n(a);s.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),s=r("5899"),n="["+s+"]",o=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),i=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:i(1),end:i(2),trim:i(3)}},"5b68":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"head"},[r("div",[""!=e.title?r("h2",[e._v(e._s(e.title))]):e._e(),e.path&&""!=e.path?r("PathHead",{attrs:{path:e.path}}):e._e()],1)])},s=[],n=r("2838"),o={name:"Head",props:{title:{type:String,default:""},path:{type:String,default:""}},components:{PathHead:n["default"]}},c=o,i=(r("e11b"),r("2877")),d=Object(i["a"])(c,a,s,!1,null,"9ced9af6",null);t["default"]=d.exports},7156:function(e,t,r){var a=r("861d"),s=r("d2bb");e.exports=function(e,t,r){var n,o;return s&&"function"==typeof(n=t.constructor)&&n!==r&&a(o=n.prototype)&&o!==r.prototype&&s(e,o),e}},"742a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"popup-panel--slide"}},[e.checkboxSelected?a("div",{staticClass:"popup-panel"},[a("div",{staticClass:"popup-panel--total"},[a("span",[e._v(" Отмечено: "),a("span",{staticClass:"color-black"},[e._v(" "+e._s(e.checkboxSelected)+" / "+e._s(e.total)+" ")])]),a("span",[e._v(" Всего: "),a("span",{staticClass:"color-black"},[e._v(e._s(e.total))])])]),a("div",[a("button",{staticClass:"btn black"},[a("img",{attrs:{src:r("c118"),alt:""}}),e._v(" Выгрузить в файл ")]),a("button",{staticClass:"btn black"},[a("img",{attrs:{src:r("00f9"),alt:""}}),e._v(" Объединить заказы ")])])]):e._e()])},s=[],n=(r("a9e3"),{name:"popupPanel",props:{total:{type:Number,default:null},checkboxSelected:{type:Number,default:0}}}),o=n,c=(r("0722"),r("2877")),i=Object(c["a"])(o,a,s,!1,null,"3112a4e5",null);t["default"]=i.exports},"804f":function(e,t,r){"use strict";var a=r("cc4e"),s=r.n(a);s.a},"8a37":function(e,t,r){e.exports=r.p+"img/plus.50ff9826.svg"},"9c49":function(e,t,r){},a9e3:function(e,t,r){"use strict";var a=r("83ab"),s=r("da84"),n=r("94ca"),o=r("6eeb"),c=r("5135"),i=r("c6b6"),d=r("7156"),l=r("c04e"),u=r("d039"),f=r("7c73"),v=r("241c").f,b=r("06cf").f,h=r("9bf2").f,p=r("58a8").trim,_="Number",m=s[_],O=m.prototype,g=i(f(O))==_,C=function(e){var t,r,a,s,n,o,c,i,d=l(e,!1);if("string"==typeof d&&d.length>2)if(d=p(d),t=d.charCodeAt(0),43===t||45===t){if(r=d.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+d}for(n=d.slice(2),o=n.length,c=0;c<o;c++)if(i=n.charCodeAt(c),i<48||i>s)return NaN;return parseInt(n,a)}return+d};if(n(_,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var x,k=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof k&&(g?u((function(){O.valueOf.call(r)})):i(r)!=_)?d(new m(C(t)),r,k):C(t)},S=a?v(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;S.length>y;y++)c(m,x=S[y])&&!c(k,x)&&h(k,x,b(m,x));k.prototype=O,O.constructor=k,o(s,_,k)}},beae:function(e,t,r){"use strict";var a=r("f9fd"),s=r.n(a);s.a},c118:function(e,t,r){e.exports=r.p+"img/upload.e0d93f65.svg"},c587:function(e,t,r){},c740:function(e,t,r){"use strict";var a=r("23e7"),s=r("b727").findIndex,n=r("44d2"),o=r("ae40"),c="findIndex",i=!0,d=o(c);c in[]&&Array(1)[c]((function(){i=!1})),a({target:"Array",proto:!0,forced:i||!d},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n(c)},c7c4:function(e,t,r){"use strict";var a=r("db89"),s=r.n(a);s.a},c975:function(e,t,r){"use strict";var a=r("23e7"),s=r("4d64").indexOf,n=r("a640"),o=r("ae40"),c=[].indexOf,i=!!c&&1/[1].indexOf(1,-0)<0,d=n("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:i||!d||!l},{indexOf:function(e){return i?c.apply(this,arguments)||0:s(this,e,arguments.length>1?arguments[1]:void 0)}})},cc4e:function(e,t,r){},d188:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mutual-settlement"},[r("h2",[e._v("Взаиморасчеты")]),e.mutualSettlement.length?[r("div",{staticClass:"table-wrap"},[r("table",{staticClass:"table"},[e._m(0),e._l(e.mutualSettlement,(function(t){return r("tr",{key:t.id},[r("td",{attrs:{width:"30%"}},[e._v(e._s(e._f("date")(t.date)))]),r("td",{staticClass:"text-right",class:t.reserveStatus,attrs:{width:"70%"}},["color-red"==t.reserveStatus?[r("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"color-red"==t.reserveStatus?"Оплата просрочена":""},expression:"{\n                  content: (item.reserveStatus=='color-red') ? 'Оплата просрочена' : ''\n                }"}]},[e._v(" "+e._s(e._f("sum")(t.sum))+" ")])]:[e._v(" "+e._s(e._f("sum")(t.sum))+" ")]],2)])})),e._m(1)],2)])]:r("baseLoader")],2)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"head"},[r("td",{attrs:{width:"30%"}},[r("div",[e._v("Дата")])]),r("td",{attrs:{width:"70%"}},[r("div",[e._v("Сумма")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{attrs:{width:"30%"}},[r("div")]),r("td",{staticClass:"text-right",attrs:{width:"70%"}},[r("div",[e._v("Итог: 100 000 00")])])])}],n=r("5530"),o=r("2f62"),c=r("e37d"),i=r("ead1"),d={name:"mutualSettlementTable",components:{baseLoader:i["default"]},directives:{tooltip:c["a"]},computed:Object(n["a"])({},Object(o["d"])("dashboard",["mutualSettlement"]))},l=d,u=(r("804f"),r("2877")),f=Object(u["a"])(l,a,s,!1,null,"b4aeb05a",null);t["default"]=f.exports},db89:function(e,t,r){},e11b:function(e,t,r){"use strict";var a=r("eb08"),s=r.n(a);s.a},e90f:function(e,t,r){"use strict";var a=r("0e9b"),s=r.n(a);s.a},eb08:function(e,t,r){},f9fd:function(e,t,r){}}]);
//# sourceMappingURL=layout-views-dashboard-vue.5abc6cb9.js.map