(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-components-Order-selectProducts-vue~layout-views-selection-vue","layout-components-Catalog-modalHead-vue","layout-components-Order-catalogMenu-vue"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var s=r("1d80"),l=r("5899"),a="["+l+"]",o=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),i=function(e){return function(t){var r=String(s(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:i(1),end:i(2),trim:i(3)}},"6e95":function(e,t,r){"use strict";var s=r("a440"),l=r.n(s);l.a},7156:function(e,t,r){var s=r("861d"),l=r("d2bb");e.exports=function(e,t,r){var a,o;return l&&"function"==typeof(a=t.constructor)&&a!==r&&s(o=a.prototype)&&o!==r.prototype&&l(e,o),e}},"760c":function(e,t,r){},a3ce:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{class:"level-"+e.item.level},[s("div",{staticClass:"tr"},[s("div",[s("span",{staticClass:"link-folder",class:{child:e.item.children&&e.item.children.length||e.productsFolder.length},on:{click:e.toggle,dblclick:e.makeFolder}},[s("span",{staticClass:"ico-arrow",class:{open:e.isOpen}}),s("img",{staticClass:"ico-folder",attrs:{src:r("abfe"),alt:""}}),e._v(" "+e._s(e.item.title)+" ")])]),s("div",[e._v(e._s(e.item.code))]),s("div"),s("div"),s("div"),s("div"),s("div"),s("div"),s("div"),s("div")]),e.productsFolder.length&&e.isOpen?s("ul",{staticClass:"products"},e._l(e.productsFolder,(function(t){return s("li",{key:t.id,staticClass:"tr product"},[s("div",[s("div",{staticClass:"prod-link"},[s("input",{staticClass:"style-checkbox",attrs:{id:"id-order-"+t.code,type:"checkbox"},domProps:{value:t.combineOrder,checked:t.combineOrder},on:{change:function(r){return e.setCombineOrder(r,t)}}}),s("label",{attrs:{for:"id-order-"+t.code}}),s("span",{staticClass:"prod-title",on:{click:function(r){return e.showModal(t.code)}}},[e._v(" "+e._s(t.title)+" ")])])]),s("div",[e._v(e._s(t.code))]),s("div",[s("input",{staticClass:"order-input",attrs:{type:"number"},domProps:{value:t.order},on:{input:function(r){return e.setOrderProd(r,t)}}})]),s("div",[e._v(e._s(t.reserve))]),s("div",[e._v(e._s(t.remainder))]),s("div",[e._v(e._s(t.byAgreement))]),s("div",[e._v(e._s(e._f("sum")(t.priceDealer)))]),s("div",[e._v(e._s(e._f("sum")(t.priceBasic)))]),s("div",[e._v(e._s(t.minibox))]),s("div",{staticClass:"text-right"},[e._v(e._s(t.packaging))])])})),0):e._e(),e.isFolder&&e.isOpen?s("ul",e._l(e.item.children,(function(e,t){return s("catalogMenu",{key:t,attrs:{item:e}})})),1):e._e(),e.modal?s("portal",{attrs:{to:"product-head"}},[e.product?s("modalHead",{attrs:{title:e.product.title}}):e._e()],1):e._e(),e.modal?s("portal",{attrs:{to:"product-body"}},[s("modalProduct",{attrs:{product:e.product}})],1):e._e()],1)},l=[],a=(r("4de4"),r("c740"),r("a9e3"),r("5530")),o=r("2f62"),c=r("f51c"),i=r("46ac"),n={name:"catalogMenu",components:{modalHead:c["default"],modalProduct:i["default"]},props:{item:Object},data:function(){return{isOpen:!1}},computed:Object(a["a"])({},Object(o["d"])("catalog",["products","modal","product"]),{productsFolder:function(){var e=this;return this.products.filter((function(t){return t.idFolder==e.item.idFolder}))},isFolder:function(){return this.item.children&&this.item.children.length||this.productsFolder.length}}),methods:Object(a["a"])({},Object(o["c"])("catalog",["setModal","setCombineOrderName","setOrder"]),{},Object(o["b"])("catalog",["getProduct"]),{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)},makeFolder:function(){this.isFolder||(this.$emit("make-folder",this.item),this.isOpen=!0)},setCombineOrder:function(e,t){this.setCombineOrderName({index:this.products.findIndex((function(e){return e.code===t.code})),value:e.target.checked})},showModal:function(e){this.getProduct(e),this.setModal(!0)},setOrderProd:function(e,t){Number(e.target.value)<0&&(e.target.value=0);var r=Number(e.target.value)>0;this.setCombineOrderName({index:this.products.findIndex((function(e){return e.code===t.code})),value:r}),this.setOrder({index:this.products.findIndex((function(e){return e.code===t.code})),value:Number(e.target.value)})}})},d=n,u=(r("b353"),r("2877")),f=Object(u["a"])(d,s,l,!1,null,"d82e580a",null);t["default"]=f.exports},a440:function(e,t,r){},a9e3:function(e,t,r){"use strict";var s=r("83ab"),l=r("da84"),a=r("94ca"),o=r("6eeb"),c=r("5135"),i=r("c6b6"),n=r("7156"),d=r("c04e"),u=r("d039"),f=r("7c73"),v=r("241c").f,p=r("06cf").f,m=r("9bf2").f,g=r("58a8").trim,h="Number",_=l[h],b=_.prototype,y=i(f(b))==h,I=function(e){var t,r,s,l,a,o,c,i,n=d(e,!1);if("string"==typeof n&&n.length>2)if(n=g(n),t=n.charCodeAt(0),43===t||45===t){if(r=n.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(n.charCodeAt(1)){case 66:case 98:s=2,l=49;break;case 79:case 111:s=8,l=55;break;default:return+n}for(a=n.slice(2),o=a.length,c=0;c<o;c++)if(i=a.charCodeAt(c),i<48||i>l)return NaN;return parseInt(a,s)}return+n};if(a(h,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var M,O=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof O&&(y?u((function(){b.valueOf.call(r)})):i(r)!=h)?n(new _(I(t)),r,O):I(t)},C=s?v(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;C.length>A;A++)c(_,M=C[A])&&!c(O,M)&&m(O,M,p(_,M));O.prototype=b,b.constructor=O,o(l,h,O)}},abfe:function(e,t,r){e.exports=r.p+"img/folder.b3f53e49.svg"},b353:function(e,t,r){"use strict";var s=r("760c"),l=r.n(s);l.a},c740:function(e,t,r){"use strict";var s=r("23e7"),l=r("b727").findIndex,a=r("44d2"),o=r("ae40"),c="findIndex",i=!0,n=o(c);c in[]&&Array(1)[c]((function(){i=!1})),s({target:"Array",proto:!0,forced:i||!n},{findIndex:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},f51c:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"head"},[r("div",{staticClass:"head--path"},[r("router-link",{attrs:{to:{name:"Dashboard"}}},[e._v("Главная")]),e._v(" / "),r("router-link",{attrs:{to:{name:"Catalog"}}},[e._v("Каталог товаров")]),e._v(" / "+e._s(e.title)+" ")],1),r("div",{staticClass:"head--title"},[e._v(" "+e._s(e.title)+" ")])])},l=[],a={name:"modalHead",props:{title:{type:String,default:""}}},o=a,c=(r("6e95"),r("2877")),i=Object(c["a"])(o,s,l,!1,null,"1e062690",null);t["default"]=i.exports},f6ea:function(e,t,r){"use strict";var s=r("fdd8"),l=r.n(s);l.a},fdd8:function(e,t,r){},fdea:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"catalogTable",staticClass:"catalog-table"},[e.folders.length?r("div",{staticClass:"catalog-table--in"},[e._m(0),r("ul",{ref:"catalogMenu",staticClass:"catalog-menu select-first"},e._l(e.folders,(function(e){return r("CatalogMenu",{key:e.id,attrs:{item:e}})})),1)]):r("baseLoader")],1)},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"catalog-menu--head"},[r("div",[r("div",[e._v("Наименование")]),r("div",[e._v("Код")]),r("div",[e._v("Заказ")]),r("div",[e._v("Резерв")]),r("div",[e._v("Отстаток")]),r("div",[e._v("По согласованию")]),r("div",[e._v("Цена")]),r("div"),r("div",[e._v("Минибокс")]),r("div",[e._v("Упаковка")])]),r("div",[r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div",[e._v("Дилерская")]),r("div",[e._v("Базовая")]),r("div"),r("div")])])}],a=(r("c975"),r("5530")),o=r("2f62"),c=r("a3ce"),i=r("ead1"),n={name:"selectProducts",components:{CatalogMenu:c["default"],baseLoader:i["default"]},mounted:function(){var e=this;this.folders.length||this.getFolders(),this.products.length||this.getProducts(),this.setModal(!1);var t=[38,40];document.body.addEventListener("keydown",(function(e){-1!=t.indexOf(e.keyCode)&&e.preventDefault()})),document.onkeyup=function(t){var r=window.event.keyCode;if(13==r&&(e.$refs.catalogMenu.classList.contains("select-first")&&(e.$refs.catalogMenu.classList.remove("select-first"),e.$refs.catalogMenu.querySelectorAll("li")[0].classList.add("selected")),null!==e.selectItem)){var s=e.$refs.catalogMenu.querySelectorAll("li")[e.selectItem].querySelector(".link-folder"),l=e.$refs.catalogMenu.querySelectorAll("li")[e.selectItem].querySelector(".products .order-input");s&&(s.dispatchEvent(new Event("click")),e.modal&&e.setModal(!1)),l&&!s&&l.focus()}if(38==r){if(t.preventDefault(),e.$refs.catalogMenu.classList.contains("select-first")&&e.$refs.catalogMenu.classList.remove("select-first"),null===e.selectItem||e.selectItem<=0)e.selectItem=0,e.$refs.catalogMenu.querySelectorAll("li")[0].classList.add("selected");else{e.selectItem--;for(var a=0;a<e.$refs.catalogMenu.querySelectorAll("li").length;a++)e.selectItem==a?(e.$refs.catalogMenu.querySelectorAll("li")[a].classList.add("selected"),e.$refs.catalogTable.scrollTop=e.$refs.catalogMenu.querySelectorAll("li")[a].offsetTop-80):e.$refs.catalogMenu.querySelectorAll("li")[a].classList.remove("selected")}var o=e.$refs.catalogMenu.querySelectorAll("li")[e.selectItem].querySelector(".products .order-input");o&&o.blur()}if(40==r){if(t.preventDefault(),e.$refs.catalogMenu.classList.contains("select-first")&&e.$refs.catalogMenu.classList.remove("select-first"),null===e.selectItem)e.selectItem=0,e.$refs.catalogMenu.querySelectorAll("li")[0].classList.add("selected");else if(e.selectItem<e.$refs.catalogMenu.querySelectorAll("li").length-1){e.selectItem++;for(var c=0;c<e.$refs.catalogMenu.querySelectorAll("li").length;c++)e.selectItem==c?(e.$refs.catalogMenu.querySelectorAll("li")[c].classList.add("selected"),e.$refs.catalogTable.scrollTop=e.$refs.catalogMenu.querySelectorAll("li")[c].offsetTop-80):e.$refs.catalogMenu.querySelectorAll("li")[c].classList.remove("selected")}var i=e.$refs.catalogMenu.querySelectorAll("li")[e.selectItem].querySelector(".products .order-input");i&&i.blur()}}},destroyed:function(){this.setModal(!1)},computed:Object(a["a"])({},Object(o["d"])("catalog",["folders","products","modal"])),data:function(){return{selectItem:0}},methods:Object(a["a"])({},Object(o["b"])("catalog",["getFolders","getProducts"]),{},Object(o["c"])("catalog",["setModal"]))},d=n,u=(r("f6ea"),r("2877")),f=Object(u["a"])(d,s,l,!1,null,"466a629b",null);t["default"]=f.exports}}]);
//# sourceMappingURL=layout-components-Order-selectProducts-vue~layout-views-selection-vue.306102bb.js.map