(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["layout-components-Dashboard-ordersTable-vue","layout-components-Dashboard-popupPanel-vue","layout-components-Order-selectProducts-vue"],{"00f9":function(e,t,r){e.exports=r.p+"img/combine-orders.7ee1ee51.svg"},"0722":function(e,t,r){"use strict";var s=r("c587"),a=r.n(s);a.a},"20d5":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"orders"},[s("h2",[e._v("Заказы")]),s("div",{staticClass:"orders--btn"},[s("router-link",{staticClass:"btn orange",attrs:{to:{name:"Order"},target:"_blank"}},[s("img",{attrs:{src:r("8a37"),alt:""}}),e._v(" Создать заказ ")])],1),e.orders.length?[s("div",{ref:"tableOrders",staticClass:"table-wrap"},[e.orders.length?s("table",{staticClass:"table"},[s("tr",{staticClass:"head"},[s("td",{staticClass:"text-center",attrs:{rowspan:"2",width:"34"}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.allCheckboxOrders,expression:"allCheckboxOrders"}],staticClass:"style-checkbox",attrs:{id:"allCheckboxOrders",type:"checkbox"},domProps:{value:!1,checked:Array.isArray(e.allCheckboxOrders)?e._i(e.allCheckboxOrders,!1)>-1:e.allCheckboxOrders},on:{change:function(t){var r=e.allCheckboxOrders,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=!1,o=e._i(r,n);s.checked?o<0&&(e.allCheckboxOrders=r.concat([n])):o>-1&&(e.allCheckboxOrders=r.slice(0,o).concat(r.slice(o+1)))}else e.allCheckboxOrders=a}}}),s("label",{attrs:{for:"allCheckboxOrders"}})])]),e._m(0),e._m(1),e._m(2),e._m(3)]),e._m(4),e._l(e.orders,(function(t,r){return s("tr",{key:t.id,class:{selected:r==e.selectOrder}},[s("td",{staticClass:"text-center"},[s("input",{staticClass:"style-checkbox",attrs:{id:"id-order-"+t.idOrder,type:"checkbox"},domProps:{value:t.combineOrder,checked:t.combineOrder},on:{change:function(r){return e.setCombineOrder(r,t)}}}),s("label",{attrs:{for:"id-order-"+t.idOrder}})]),s("td",{staticClass:"link-order"},[s("router-link",{attrs:{to:{name:"OrderId",params:{id:t.order}},target:"_blank"}},[e._v(" "+e._s(t.title)+" ")])],1),s("td",[e._v(e._s(t.idOrder))]),s("td",[e._v(e._s(e._f("sum")(t.order)))]),s("td",{class:t.reserveStatus},["color-red"==t.reserveStatus||"color-green"==t.reserveStatus?[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"color-red"==t.reserveStatus?"Есть невыполненные":"color-green"==t.reserveStatus?"Есть товары на согласовании":""},expression:"{\n                  content: (\n                    item.reserveStatus=='color-red') ? 'Есть невыполненные' :\n                    (item.reserveStatus=='color-green') ? 'Есть товары на согласовании' : ''\n                }"}]},[e._v(" "+e._s(e._f("sum")(t.reserve))+" ")])]:[e._v(" "+e._s(e._f("sum")(t.reserve))+" ")]],2),s("td",{staticClass:"text-right"},[e._v(e._s(e._f("date")(t.reservationPeriod)))])])}))],2):e._e()]),e.legendOrders?s("div",{staticClass:"orders--legend"},[e._v(" Легенда: "),s("span",{class:{"color-red":!e.legendOrders.goodsOnAgreement.val,"color-green":e.legendOrders.goodsOnAgreement.val}},[e._v(" "+e._s(e.legendOrders.goodsOnAgreement.status)+" ")]),s("span",{class:{"color-red":!e.legendOrders.areOutstanding.val,"color-green":e.legendOrders.areOutstanding.val}},[e._v(" "+e._s(e.legendOrders.areOutstanding.status)+" ")])]):e._e(),s("PopupPanel",{attrs:{total:e.orders.length,checkboxSelected:e.checkboxSelected}})]:s("baseLoader")],2)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{rowspan:"2",width:"30%"}},[r("div",[e._v("Заказ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{rowspan:"2",width:"20%"}},[r("div",[e._v("№ Заказа")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{colspan:"2",width:"30%"}},[r("div",[e._v("Сумма")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("td",{attrs:{rowspan:"2",width:"16%"}},[r("div",[e._v("Срок резервирования")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",{staticClass:"head"},[r("td",{staticClass:"bg-none"},[r("div",[e._v("Заказ")])]),r("td",{staticClass:"bg-none"},[r("div",[e._v("Резерв")])])])}],n=(r("c740"),r("c975"),r("5530")),o=r("2f62"),c=r("e37d"),d=r("742a"),l=r("ead1"),i={name:"ordersTable",components:{PopupPanel:d["default"],baseLoader:l["default"]},directives:{tooltip:c["a"]},computed:Object(n["a"])({},Object(o["d"])("dashboard",["orders"]),{checkboxSelected:function(){for(var e=0,t=0;t<this.orders.length;t++)this.orders[t]["combineOrder"]&&e++;return e},allCheckboxOrders:{get:function(){return this.checkboxSelected==this.orders.length},set:function(e){for(var t=0;t<this.orders.length;t++)this.setCombineOrderName({index:t,value:e})}}}),methods:Object(n["a"])({},Object(o["c"])("dashboard",["setCombineOrderName"]),{setCombineOrder:function(e,t){this.setCombineOrderName({index:this.orders.findIndex((function(e){return e.idOrder===t.idOrder})),value:e.target.checked})}}),mounted:function(){var e=this,t=[38,40];document.body.addEventListener("keydown",(function(e){-1!=t.indexOf(e.keyCode)&&e.preventDefault()})),document.onkeyup=function(){var t=window.event.keyCode;if(13==t&&null!==e.selectOrder){var r=e.$router.resolve({name:"OrderId",params:{id:e.orders[e.selectOrder]["order"]}});window.open(r.href,"_blank")}38==t&&(null===e.selectOrder||e.selectOrder<=0?e.selectOrder=0:(e.selectOrder--,e.$refs.tableOrders.scrollTop=e.$refs.tableOrders.querySelector(".selected").offsetTop-100)),40==t&&(null===e.selectOrder?e.selectOrder=0:e.selectOrder<e.orders.length-1&&(e.selectOrder++,e.$refs.tableOrders.scrollTop=e.$refs.tableOrders.querySelector(".selected").offsetTop-100))}},data:function(){return{selectOrder:null}}},u=i,f=(r("c7c4"),r("2877")),p=Object(f["a"])(u,s,a,!1,null,"4814730e",null);t["default"]=p.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var s=r("1d80"),a=r("5899"),n="["+a+"]",o=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),d=function(e){return function(t){var r=String(s(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:d(1),end:d(2),trim:d(3)}},7156:function(e,t,r){var s=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var n,o;return a&&"function"==typeof(n=t.constructor)&&n!==r&&s(o=n.prototype)&&o!==r.prototype&&a(e,o),e}},"742a":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"popup-panel--slide"}},[e.checkboxSelected?s("div",{staticClass:"popup-panel"},[s("div",{staticClass:"popup-panel--total"},[s("span",[e._v(" Отмечено: "),s("span",{staticClass:"color-black"},[e._v(" "+e._s(e.checkboxSelected)+" / "+e._s(e.total)+" ")])]),s("span",[e._v(" Всего: "),s("span",{staticClass:"color-black"},[e._v(e._s(e.total))])])]),s("div",[s("button",{staticClass:"btn black"},[s("img",{attrs:{src:r("c118"),alt:""}}),e._v(" Выгрузить в файл ")]),s("button",{staticClass:"btn black"},[s("img",{attrs:{src:r("00f9"),alt:""}}),e._v(" Объединить заказы ")])])]):e._e()])},a=[],n=(r("a9e3"),{name:"popupPanel",props:{total:{type:Number,default:null},checkboxSelected:{type:Number,default:0}}}),o=n,c=(r("0722"),r("2877")),d=Object(c["a"])(o,s,a,!1,null,"3112a4e5",null);t["default"]=d.exports},"8a37":function(e,t,r){e.exports=r.p+"img/plus.50ff9826.svg"},a9e3:function(e,t,r){"use strict";var s=r("83ab"),a=r("da84"),n=r("94ca"),o=r("6eeb"),c=r("5135"),d=r("c6b6"),l=r("7156"),i=r("c04e"),u=r("d039"),f=r("7c73"),p=r("241c").f,v=r("06cf").f,b=r("9bf2").f,h=r("58a8").trim,O="Number",_=a[O],m=_.prototype,g=d(f(m))==O,x=function(e){var t,r,s,a,n,o,c,d,l=i(e,!1);if("string"==typeof l&&l.length>2)if(l=h(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+l}for(n=l.slice(2),o=n.length,c=0;c<o;c++)if(d=n.charCodeAt(c),d<48||d>a)return NaN;return parseInt(n,s)}return+l};if(n(O,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var k,C=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof C&&(g?u((function(){m.valueOf.call(r)})):d(r)!=O)?l(new _(x(t)),r,C):x(t)},y=s?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;y.length>N;N++)c(_,k=y[N])&&!c(C,k)&&b(C,k,v(_,k));C.prototype=m,m.constructor=C,o(a,O,C)}},c118:function(e,t,r){e.exports=r.p+"img/upload.e0d93f65.svg"},c587:function(e,t,r){},c740:function(e,t,r){"use strict";var s=r("23e7"),a=r("b727").findIndex,n=r("44d2"),o=r("ae40"),c="findIndex",d=!0,l=o(c);c in[]&&Array(1)[c]((function(){d=!1})),s({target:"Array",proto:!0,forced:d||!l},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(c)},c7c4:function(e,t,r){"use strict";var s=r("db89"),a=r.n(s);a.a},c975:function(e,t,r){"use strict";var s=r("23e7"),a=r("4d64").indexOf,n=r("a640"),o=r("ae40"),c=[].indexOf,d=!!c&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),i=o("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:d||!l||!i},{indexOf:function(e){return d?c.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},db89:function(e,t,r){}}]);
//# sourceMappingURL=layout-components-Dashboard-ordersTable-vue.ebe1ae4e.js.map